
<div class="card rows">
    <div class="card-body">
            <div class="clearfix">&nbsp;</div>
            <div class="row rows">
                <div class="col-md-4">
                    <!-- <button class="btn btn-rounded btn-md text-white" style="background-color: #5c1ac7;"
                        (click)="openMediumModalPopup(addUniversity)" title="click here for Registration">University
                        Register</button> -->
                        <h1>Create Estimate</h1>
                </div>
                <div class="col-md-5"></div>
                <div class="col-md-3">
                    <!-- <span class="nav-tabs tabs" role="tablist">
                    <a (click)="FirstLogo()" data-toggle="tab" role="tab"><i style="font-size: 16px;cursor: pointer;" class="icon icon-apps mr-4" ></i></a>

                    <a (click)="SecondLogo()"  class="active"   data-toggle="tab" role="tab"><i style="font-size: 20px;cursor: pointer;" class="icon icon-list mr-4" ></i></a>
                    </span> -->
                     <!-- <button class="btn  btn-primary btn-sm " style="padding: 6px;"  (click)="addcontact()">+ Add Estimates</button> -->
                </div>


            <!-- <div  class="pull-left user-img m-r-10"><a href="#" ><img  alt="wwesa" class="w-40 img-circle" src="assets/img/collge.jpg"><span  class="status online"></span></a></div> -->

            </div>
            <!--second row-->
         
            <br>
<div class="content container-fluid">
    <div class="row">
     
   
            <div class="col-lg-4"  >
        
              <div class="card" style="background-color: #d2d2d6;"> 
                <ul id="menu" class="mt-3">
                    <li class="ml-2 mr-5 text-muted" style="font-size: 23px;"><i class="mdi mdi-chevron-left text-muted"></i> </li>
                    <li class="ml-5" style="color: black;">NEW Estimate</li>
                    <li><a href="#"></a></li>
                  </ul>
                 
                <div class="p-2" style="height:500px" >
                  <form #estimatesForm="ngForm" (ngSubmit)="estimatesForm.form.valid ">
                    <div class="row" style="margin-left: -20px;">
                      
                        <div class="col-md-12">
                            <div class="form-group">
                                <label for="Estimate_ID">Estimate ID<span style="color: red;font-size: 18px;">*</span></label>
                                <input type="email" id="Estimate_ID" name="Estimate_ID" placeholder="Enter Estimate_ID"
                                    class="form-control form_color" [(ngModel)]="ServiceData.Estimate_ID" #Estimate_ID="ngModel" 
                                    [ngClass]="{'is-invalid': estimatesForm.submitted && Estimate_ID.invalid}" required />
                               
                                <div *ngIf="estimatesForm.submitted && Estimate_ID.invalid&&(Estimate_ID.dirty||Estimate_ID.touched)" >
                                    <div *ngIf="Estimate_ID.errors.required" class="text-danger">Estimate_ID field is Required.</div>
                                    <!-- <div *ngIf="Estimate_ID.errors.email" class="text-danger">*Please enter a valid email</div> -->
                                    </div>
                            </div>
                        </div>   
                      
                  
                    <div class="col-md-12">
                        <div class="form-group">
                            <label for="Client ">Client <span style="color: red;font-size: 18px;">*</span></label>

                            <select class="form-control form_color"  [(ngModel)]="ServiceData.Client" #Client="ngModel" name="Client"  > 
                                
                                <option  >advertising</option>
                                <option>Vehicle Expenses</option>
                                <option>Contractors</option>
                             
                                
                            </select>
                            <div class="invalid-feedback" *ngIf="estimatesForm.submitted && Client.invalid">
                                <div *ngIf="Client.errors.required">Category Required</div>
                            </div>
                        </div>
                    </div>
                        <div class="col-md-12">
                            <div class="form-group">
                                <label for="Project">Project<span style="color: red;font-size: 18px;">*</span></label>

                                <select class="form-control form_color" id="Project"  [(ngModel)]="ServiceData.Project" #Project="ngModel" name="Project" > 
                                    
                                    <option  >advertising</option>
                                    <option>Vehicle Expenses</option>
                                   
                                    <option>Employee Benefits</option>
                               
                                    
                                </select>
                                <div class="invalid-feedback" *ngIf="estimatesForm.submitted && Project.invalid">
                                    <div *ngIf="Project.errors.required">Project Required</div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-12">
                            <div class="form-group">
                                <label for="Client_Address">Client Address<span style="color: red;font-size: 18px;">*</span></label>
                                <textarea type="text" id="Client_Address" name="Client_Address" placeholder="Client_Address"
                                class="form-control form_color" [(ngModel)]="ServiceData.Client_Address"
                                #Client_Address="ngModel" 
                                [ngClass]="{'is-invalid': estimatesForm.submitted && Client_Address.invalid}" required ></textarea>
                               
                                <div *ngIf="estimatesForm.submitted && Client_Address.invalid&&(Client_Address.dirty||Client_Address.touched)" >
                                    <div *ngIf="Client_Address.errors.required" class="text-danger">Client_Address field is Required.</div>
                                    <!-- <div *ngIf="email.errors.email" class="text-danger">*Please enter a valid email</div> -->
                                    </div>
                            </div>
                        </div>

                        <div class="col-md-12">
                            <div class="form-group">
                                <label for="Billing_Address ">Billing Address <span style="color: red;font-size: 18px;">*</span></label>
    
                                <textarea type="text" id="Billing_Address" name="Billing_Address" placeholder="Billing_Address"
                                class="form-control form_color" [(ngModel)]="ServiceData.Billing_Address"
                                #Billing_Address="ngModel" 
                                [ngClass]="{'is-invalid': estimatesForm.submitted && Billing_Address.invalid}" required ></textarea>
                                <div class="invalid-feedback" *ngIf="estimatesForm.submitted && Billing_Address.invalid">
                                    <div *ngIf="Billing_Address.errors.required">Billing_Address* Required</div>
                                </div>
                            </div>
                        </div>


                        
                        
                      
                    </div>  
                    
                    <!-- <div class="row">
                      
                        <div class="col-md-1"></div>
                        <div class="col-md-3"><small class="text-left p-1">Created</small></div>
                        
                        <div class="col-md-6">
                            <div class="form-group">
                                <div class="input-group" >
                                    <input class="form-control" placeholder="yyyy-mm-dd" 
                                           name="dp1" [(ngModel)]="ServiceData.created" ngbDatepicker [footerTemplate]="footerTemplate1" placeholder="{{currentDate | date:'yyyy-MM-dd'}}" #d1="ngbDatepicker" style="border:0px">
                                    <div class="input-group-append">
                                      <button class="btn btn-sm calendar" (click)="d1.toggle()" type="button" style="border:0px"></button>
                                    </div>
                                  </div>
                             
                                <div class="invalid-feedback" *ngIf="estimatesForm.submitted && created.invalid">
                                    
                                </div>
                            </div>
                        </div>
                    </div>  
                    
                    
                          
        
                    <div class="row mt-2">
                        <div class="col-md-1"></div>
                        <div class="col-md-3"><small class="text-left p-1">VAT(%)</small></div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <input type="number" id="vat" name="vat"  
                                    class="form-control" [(ngModel)]="ServiceData.vat" 
                                    #vat="ngModel" (keyup)="getName(i)"
                                    [ngClass]="{'is-invalid': estimatesForm.submitted && vat.invalid}"
                                    required />
                                <div class="invalid-feedback" *ngIf="estimatesForm.submitted && vat.invalid">
                                    <div *ngIf="vat.errors.required">VAT is Required
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div> 
                    
                    
                    <div class="row mt-2">
                        <div class="col-md-1"></div>
                        <div class="col-md-10">
                            <div class="form-group">
                            <p style="font-weight: 500;font-size: 14px;">COMMENTS/NOTES </p>
                                
                                <textarea type="text" id="comments" name="comments" placeholder="COMMENTS"
                                    class="form-control form_color" [(ngModel)]="ServiceData.comments"
                                    #comments="ngModel" [(ngModel)]="name8"
                                    [ngClass]="{'is-invalid': estimatesForm.submitted && comments.invalid}" required ></textarea>
                                <div class="invalid-feedback" *ngIf="estimatesForm.submitted && comments.invalid">
                                    <div *ngIf="comments.errors.required">comments is Required</div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-1"></div>
        
                    </div>
                    <div class="row mt-2">
                        <div class="col-md-1"></div>
                        <div class="col-md-10">
                            <div class="form-group">
                            <p style="font-weight: 500;font-size: 14px;">PAYMENT METHOD </p>
                                
                                <textarea type="text" id="payment" name="paymentbank" placeholder="PAYMENTMETHOD"
                                    class="form-control form_color" [(ngModel)]="ServiceData.paymentbank"
                                    #paymentbank="ngModel"
                                    [ngClass]="{'is-invalid': estimatesForm.submitted && paymentbank.invalid}" required ></textarea>
                                <div class="invalid-feedback" *ngIf="estimatesForm.submitted && paymentbank.invalid">
                                    <div *ngIf="paymentbank.errors.required">payment is Required</div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-1">
                            
                        </div>
        
                    </div> -->
                   
                  </form>    
                </div>
        
              </div>
            </div>
        
         <!-- <button  type="submit" class="btn btn-sm  btn-rounded"
                    *ngIf="estimatesForm.form.valid">Next</button> -->
        
            <div class="col-lg-8">
                <div class="card" style="padding: 15px;" >
                    <!-- <div class="text-center">-ticket-</div>
                    <div class="text-center">-expense-</div> -->
        
                  <form #estimatesForm1="ngForm" (ngSubmit)="estimatesForm.form.valid">
        
                    <!-- <div class="row mt-5">
                        
                      
                      <div class="col-md-4"></div>
                      <div class="col-md-6">
                        <small><b>-Ticket-</b></small>
                            
                        <div class="row">
                            <div class="col-md-12">
                                <small class="mt-2 text-center">-EXPENSE-:{{ServiceData.title}}</small>
                            </div>
                            <div class="col-md-8">
                                
                                <ng-template #footerTemplate1>
                                  <hr class="my-0">
                                  <button class="btn btn-primary btn-sm m-2 float-left" (click)="model1 = today; d.close()">Today</button>
                                  <button class="btn btn-secondary btn-sm m-2 float-right" (click)="d.close()">Close</button>
                                </ng-template>
                            </div>
                        </div>
        
                        <div class="row">
                            <div class="col-md-12">
                                <small class="mt-2 text-center">-Date : {{ServiceData.created.day}}-{{ServiceData.created.month}}-{{ServiceData.created.year}}</small>
                            </div>
                            <div class="col-md-8">
                                
                                <ng-template #footerTemplate>
                                  <hr class="my-0">
                                  <button class="btn btn-primary btn-sm m-2 float-left" (click)="model = today; d.close()">Today</button>
                                  <button class="btn btn-secondary btn-sm m-2 float-right" (click)="d.close()">Close</button>
                                </ng-template>
                            </div>
                        </div>
        
                       
        
                      </div>
                      
        
                    </div> -->
                    <div class="row" style="margin-left: -20px;">
                      
                        
                      
                  
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="Estimate_Date ">Estimate Date <span style="color: red;font-size: 18px;">*</span></label>
    
                                <input type="date" id="Estimate_Date" name="Estimate_Date" placeholder="Enter Estimate_Date "
                                        class="form-control form_color" [(ngModel)]="ServiceData.Estimate_Date" #Estimate_Date="ngModel"
                                        [ngClass]="{'is-invalid': estimatesForm.submitted && Estimate_Date.invalid}" required />
                                 
                                    
                                <div class="invalid-feedback" *ngIf="estimatesForm.submitted && Estimate_Date.invalid">
                                    <div *ngIf="Estimate_Date.errors.required">Estimate_Date Required</div>
                                </div>
                            </div>
                        </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label for="Expiry_Date">Expiry Date <span style="color: red;font-size: 18px;">*</span></label>
    
                                    <input type="date" id="Expiry_Date" name="Expiry_Date" placeholder="Enter Expiry_Date "
                                        class="form-control form_color" [(ngModel)]="ServiceData.Expiry_Date" #Expiry_Date="ngModel"
                                        [ngClass]="{'is-invalid': estimatesForm.submitted && Expiry_Date.invalid}" required />
                                    <div class="invalid-feedback" *ngIf="estimatesForm.submitted && Expiry_Date.invalid">
                                        <div *ngIf="Expiry_Date.errors.required">Expiry_Date Required</div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label for="registerEmail">Email<span style="color: red;font-size: 18px;">*</span></label>
                                    <input type="email" id="registerEmail" name="email" placeholder="Enter Email"
                                        class="form-control form_color" [(ngModel)]="ServiceData.email" #email="ngModel" email
                                        [ngClass]="{'is-invalid': estimatesForm.submitted && email.invalid}" required />
                                   
                                    <div *ngIf="estimatesForm.submitted && email.invalid&&(email.dirty||email.touched)" >
                                        <div *ngIf="email.errors.required" class="text-danger">Email field is Required.</div>
                                        <div *ngIf="email.errors.email" class="text-danger">*Please enter a valid email</div>
                                        </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label for="vat">Tax(%)<span style="color: red;font-size: 18px;">*</span></label>
    
                                    <input type="text" id="vat" name="vat" placeholder="Enter Tax % "
                                        class="form-control form_color" [(ngModel)]="ServiceData.vat" #vat="ngModel"
                                        [ngClass]="{'is-invalid': estimatesForm.submitted && vat.invalid}" required />
                                    <div class="invalid-feedback" *ngIf="estimatesForm.submitted && vat.invalid">
                                        <div *ngIf="vat.errors.required">vat Required</div>
                                    </div>
                                </div>
                            </div>
                            <!-- <div class="col-md-6">
                                <div class="form-group">
                                    <label for="vat ">Tax(%) <span style="color: red;font-size: 18px;">*</span></label>
                                    <input type="text" id="vat" name="vat"  
                                    class="form-control form_color" [(ngModel)]="ServiceData.vat" 
                                    #vat="ngModel" (keyup)="getName(i)"
                                    [ngClass]="{'is-invalid': estimatesForm.submitted && vat.invalid}"
                                    required />
                                    <select class="form-control form_color"  [(ngModel)]="ServiceData.vat" #vat="ngModel" name="vat"  > 
                                        
                                        <option  >advertising</option>
                                        <option>Vehicle Expenses</option>
                                        <option>Contractors</option>
                                     
                                        
                                    </select>
                                    <div class="invalid-feedback" *ngIf="estimatesForm.submitted && vat.invalid">
                                        <div *ngIf="vat.errors.required">vat* Required</div>
                                    </div>
                                </div>
                            </div> -->
                            <!-- <div class="row mt-2">
                                <div class="col-md-1"></div>
                                <div class="col-md-3"><small class="text-left p-1">VAT(%)</small></div>
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <input type="number" id="vat" name="vat"  
                                            class="form-control" [(ngModel)]="ServiceData.vat" 
                                            #vat="ngModel" (keyup)="getName(i)"
                                            [ngClass]="{'is-invalid': estimatesForm.submitted && vat.invalid}"
                                            required />
                                        <div class="invalid-feedback" *ngIf="estimatesForm.submitted && vat.invalid">
                                            <div *ngIf="vat.errors.required">VAT is Required
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>  -->
    
                            
                            
                          
                        </div>  
                    
        
                   <div class="row p-2">
                       <div class="col-4 ">
                          <small class="ml-3">Item</small>
                       </div>
                       <div class="col-2">
                       <small class="ml-3">Unit Cost</small>
                    </div>
                    <div class="col-2">
                     <small class="ml-3">Quantity</small>
                    </div>
                    <div class="col-2">
                       <small class="ml-1">Price</small>
                    </div>
                   </div>
                    <div class="row no-gutters">
                        <div class="col-md-12">
                                <div class="row justify-content-center">
                                  <div class="col-md-12">
                                   
        
                                    <form class="form-sample" [formGroup]="profileForm">
                                        <div  formArrayName="products">
                                            <div  *ngFor="let group of getFormData.controls; let i=index">
                                                <div [formGroupName]="i">
                                                    <div class="row p-1">
                                                    <div class="col-3 ">
                                           <input type="text" class="form-control"  name='itemname' formControlName="itemname" placeholder="Item Name" />
                                                     </div>
                                                     <div class="col-3">
                                <input type="number" class="form-control"    name='itemcost' formControlName="itemcost" (keyup)="getName(i)" placeholder="Cost"  />
                                                  </div>
                                                  <div class="col-2">
                                  <input type="number" class="form-control"   name='itemquan' formControlName="itemquan" (keyup)="getName(i)" placeholder="Quantity"  />
                                                  </div>
                                                  <div class="col-3">
                            <input type="number" class="form-control"   name='price' formControlName="price"  (blur)="getName(i)" placeholder="Price" disabled/>
                                                  </div>
                                                  <div class="col-1">
                        <a (click)="remove(i)"> <i style="color: red;cursor: pointer;" class="fa fa-trash"></i></a>
                                                </div>
                                                </div>
                                                 </div>
                                            </div>
                                        </div>  
                                        <button type="button" class="btn btn-sm ml-2" (click)="addProduct()" style="background-color:
                                    #2f3e65 ;color: white;">Add row</button>
                                
<br><br>
<div class="row">

                                <div class="col-md-4 " >
                                    <div class="form-group">
                                        <label for="registerEmail">Total<span style="color: red;font-size: 18px;">*</span></label>
                                        <input type="number" id="registerEmail" name="subtotal" placeholder="Enter Email"
                                            class="form-control form_color" formControlName="subtotal" 
                                            [ngClass]="{'is-invalid': estimatesForm.submitted && email.invalid}" required />
                                       
                                        <div *ngIf="estimatesForm.submitted && email.invalid&&(email.dirty||email.touched)" >
                                            <div *ngIf="email.errors.required" class="text-danger">Email field is Required.</div>
                                            </div>
                                    </div>
                                </div>

                                <div class="col-md-4" >
                                    <div class="form-group">
                                        <label for="registerEmail">Tax<span style="color: red;font-size: 18px;">*</span></label>
                                        <input type="number" id="registerEmail" name="vatper" placeholder="Enter vatper"
                                            class="form-control form_color" formControlName="vatper" 
                                            [ngClass]="{'is-invalid': estimatesForm.submitted && vatper.invalid}" required />
                                       
                                        <div *ngIf="estimatesForm.submitted && vatper.invalid&&(vatper.dirty||vatper.touched)" >
                                            <div *ngIf="vatper.errors.required" class="text-danger">Email field is Required.</div>
                                            </div>
                                    </div>
                                </div>


                                <div class="col-md-4" >
                                    <div class="form-group">
                                        <label for="registerEmail">Grand Total<span style="color: red;font-size: 18px;">*</span></label>
                                        <input type="number" id="registerEmail" name="total" placeholder="Enter Email"
                                            class="form-control form_color" formControlName="total"
                                            [ngClass]="{'is-invalid': estimatesForm.submitted && email.invalid}" required />
                                       
                                        <div *ngIf="estimatesForm.submitted && email.invalid&&(email.dirty||email.touched)" >
                                            <div *ngIf="email.errors.required" class="text-danger">Email field is Required.</div>
                                            </div>
                                    </div>
                                </div>
                            </div>
                                    <!-- <div class="row mt-3">
                                        <div class="col-md-8"> </div>
                                        <div class="col-md-2">
                                            <p>Subtotal:</p>
                                       </div>
                                       <div class="col-md-2">
                                        <input type="text" class="form-control border" (keyup)="getName(i)"  name='subtotal' formControlName="subtotal"  placeholder="subtotal"/>
            
                                     </div>
                                   
                                    
                                      </div> -->
            
                                      <!-- <div class="row">
                                        <div class="col-md-8"> </div>
                                        <div class="col-md-2">
                                            <p>VAT(%):</p>
                                       </div>
                                       <div class="col-md-2">
                                        <input type="text" class="form-control border" (keyup)="getName(i)"  name='vatper' formControlName="vatper"  placeholder="vatper"/>
            
                                          <hr>
                                     </div>
                               
                                    
                                      </div>
             -->
                                      <!-- <div class="row">
                                        <div class="col-md-8"> </div>
                                        <div class="col-md-2">
                                            <p class="font-bold">Total:</p>
                                       </div>
                                       <div class="col-md-2">
                                        <input type="text" class="form-control border"  name='total' formControlName="total"  placeholder="total"/>
            
                                     </div>

                                 
                                      </div> -->




                                    </form>
                                
        
                                  </div>
                                </div>    
                        </div>
                    </div>
                   
                    
                   
                      
        
                      
                    <div class="mt-4 p-5" style="float: right;">
                    <!-- <button  type="submit" class="btn btn-md"
                        *ngIf="estimatesForm.form.invalid" style="background-color:
                        #2f3e65 ;color: white;">Next</button>      asset-->
                        <button  type="submit" (click)="asset(estimatesForm.value)" class="btn btn-md"
                        style="background-color:
                        #2f3e65 ;color: white;">Save
                        </button>
                     </div>
                    </form>
                </div>
                </div>
            
    
                 
        


    
    </div>
 
  
  
</div>

    </div>





          </div>